# 시작
이 활동을 시작하게 된 계기는 미션을 진행하면서 든 작은 의문이었습니다. 얼마전 한 글을 읽었습니다. 내용은 다음과 같습니다. CPU가 갈수록 많은 다중 코어를 사용하여 이로 인해 분산을 통한 병렬 처리가 중요해지고 이에 따라 상태의 공유, 동시성과 같은 문제가 발생하고 있습니다. 그리고 다양한 언어들이 문제를 해결하기 위해 함수형 패러다임의 개념을 부분적으로 받아들이고 있다는 것입니다. 개발자로서 이러한 흐름을 이해하고 직접 경험하는 것이 중요하다고 생각합니다. 

그래서 프리코스를 진행하면서 함수형 패러다임을 적용해보았습니다. 기능 목록을 작성하고 부수효과를 기준으로 순수함수를 나누어보았습니다. 부수효과를 어떻게 처리해야할 지가 항상 고민이었습니다. 난수를 필요한 만큼 모두 만들어 데이터로 인젝션하기도 하고 함수 자체를 인자로 전달하는 방식으로 제어해보며 부수효과를 어떻게 다루어야 할 지 고민해보았죠. 처음 함수형 패러다임을 접했을 때에 프론트엔드 개발자로서 이런 생각이 들었습니다. 
> 웹은 어떻게 보면 부수효과 덩어리인데 FP를 어디까지 적용해야할까? FP가 어떠한 효과를 가져다 주고 정말 필요할까?

# WEB vs FP
### WEB과 browser
웹이란 인터넷으로 연결된 전세계 사용자들이 정보를 공유할 수 있는 장소입니다. 우리는 텍스트 뿐 아니라 이미지, 영상, 프로그램, 화폐등을 언제 어디서든 주고 받을 수 있습니다. 예측 불가한 사용자들과 끊임없이 상호작용을 하고 있기 때문에 매우 복잡합니다. 그 중 핵심은 `주고 받는다`에 있다고 생각합니다. 사용자의 입력과 요청, 네트워크 요청, 이벤트 등 끊임없는 상호작용의 연속입니다. `즉, 웹은 본질적으로 부수효과로 가득한 것이죠.`

특히 과거의 웹은 단순한 문서 중심 구조였지만, 오늘날의 웹은 애플리케이션 수준의 복잡한 기능을 수용하게 되면서 상태, 비동기 흐름, 상호작용의 양이 폭발적으로 증가했습니다. 또한 서버 렌더 중심의 정적인 웹이 SPA·대화형 UI·실시간 기능으로 확장되면서 웹은 더 `복잡`해졌습니다.

정리해보면 웹은 다양한 기기와 상황에서 동작하며, 요소 조작·스타일링·이벤트 처리 등 폭넓은 기능을 허용하는 매우 유연한 환경입니다.

### FP
'쏙쏙 들어오는 함수형 코딩'이라는 도서와 기술 불로그를 통해서 이론적 개념이 아닌 실전적인 방향으로 FP에 대해서 공부하고 있습니다.

[스터디 정리] (./FP_study.md)

제가 공부한 영역까지 간단하게 정리를 해보자면 다음과 같습니다. 
- 함수형 프로그래머는 코드를 액션, 계산과 데이터로 구분할 수 있습니다. 
- 계산: 일반적으로 말하는 순수함수와 같은 개념으로 어떤 것을 결정하거나 계획하는 것입니다. 언제 어디서나 같은 입력에 대해서 같은 출력을 가지며, 암묵적인 입/출력이 존재하지 않습니다.
- 액션: 호출 횟수나 시점에 의존합니다. 암묵적인 입/출력(부수효과)가 존재합니다.
- 데이터: 데이터는 불변일수록 이상적이며, 불변 데이터가 FP에서 가장 다루기 쉬운 형태입니다.
- FP에서는 이 세가지를 명확하게 구분하고 `액션을 최소화하고 계산과 데이터를 최대한 활용하는 방식`을 좋은 설계라고 봅니다.

### WEB vs FP 순수성
웹에서 일어나는 기능들을 정리한 후 FP에 입각해 액션(부수효과 존재)과 계산(순수함수)로 분리해보겠습니다.

> UI

| 작업        | 예시 및 설명                   | FP 기준             |
| --------- | ---------------------- | ----------------- |
| 클릭 이벤트 처리 | 버튼 클릭, 메뉴 선택 등         | **액션** (시점·횟수 의존) |
| 입력값 변화    | input, textarea 값 변경   | **액션**            |
| 스크롤       | scroll 이벤트, 무한스크롤 감지 등 | **액션**            |
| 드래그·드롭    | 파일 이동, UI 조작           | **액션**            |
| 포커스 변화    | focus/blur             | **액션**            |
| 키보드 입력    | 단축키 처리 등               | **액션**            |

> 네트워크

| 작업                               | 예시 및 설명            | FP 기준  |
| -------------------------------- | -------------- | ------ |
| fetch / axios 요청                 | 서버로부터 데이터 가져오기 | **액션** |
| WebSocket 메시지                    | 실시간 데이터 수신     | **액션** |
| 쿠키 읽기/쓰기                         | 인증·세션 관리       | **액션** |
| LocalStorage / SessionStorage 접근 | 브라우저 저장소 접근    | **액션** |

> DOM/랜더링

| 작업           | 예시 및 설명                    | FP 기준  |
| ------------ | ---------------------- | ------ |
| DOM 노드 생성/삭제 | document.createElement | **액션** |
| DOM 속성 변경    | classList.add/remove 등 | **액션** |
| 화면 렌더링       | HTML 업데이트              | 대부분 **액션** |
| 스타일 변경       | CSS 추가, 인라인 스타일 변경     | **액션** |
| 애니메이션        | requestAnimationFrame  | **액션** |

> 데이터 처리

| 작업                | 예시 및 설명                  | FP 기준  |
| ----------------- | --------------------- | ------ |
| 데이터 변환            | map, filter, reduce   | **계산** |
| 정렬                | sort (불변으로 처리 시)      | **계산** |
| 문자열 파싱/포맷팅        | 날짜 포맷, JSON 변환        | **계산** |
| 수학 연산             | 합계·평균·최대값·랜덤 인자 없이    | **계산** |
| UI 렌더링을 위한 데이터 가공 | view model 생성         | **계산** |
| form 유효성 검사       | 입력 규칙 검사              | **계산** |
| 라우팅 로직 계산         | 경로 매칭 판단              | **계산** |
| diff/patch 계산     | Virtual DOM diff 알고리즘 | **계산** |
| 필터 조건 계산          | 검색·정렬 기준              | **계산** |
| 랜덤 값 생성(Math.random) | 실행될 때마다 값 달라짐      | **액션** |
| 날짜/시간 읽기(Date.now)   | 시점마다 값이 달라짐        | **액션** |

웹 애플리케이션의 핵심 흐름(상태, 비동기, 이벤트)은 액션 중심입니다. 반면 계산(순수 함수)은 데이터 변환이나 UI에 필요한 구조를 만들어내는 일부 과정에만 사용됩니다. 그렇기에 함수형 관점에서 보면 혼란스럽게 느껴집니다. 

이러한 액션들은 제어가 어렵고 예측할 수 없기 때문에 테스트도 불편하고 불안정해 보입니다. 당시 많은 개발자들도 이러한 부분들을 이해해야하는 웹의 특징이 아니라 `해결해야하는 문제`로 바라보았던 것 같습니다.

다음 단계에서 복잡한 액션들을 어떤 형태로 극복하려 했는지 생각해보고 실제 웹 기술들을 알아보겠습니다.
